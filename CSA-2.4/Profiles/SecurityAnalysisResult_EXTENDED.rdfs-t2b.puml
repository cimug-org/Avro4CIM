@startuml
top to bottom direction
hide empty methods

' Here we adjust the horizontal spacing for better spatial rendering (the PlantUML default is ~20)
skinparam nodesep 100
' Here we adjust the vertical spacing for better spatial rendering (the PlantUML default is ~30)
skinparam ranksep 100

skinparam BackgroundColor #FFFFFF
skinparam shadowing false
skinparam RoundCorner 5
skinparam BorderColor #454645
skinparam ArrowColor #454645
skinparam FontColor #000000

skinparam class {
  ' Concrete classes style definition
  BackgroundColor #FFFFE0
  FontColor #000000
  AttributeFontColor #000000
  StereotypeFontColor #000000
  HeaderFontColor #000000
  BorderColor #454645
  BorderThickness 1
  
  ' Abstract classes style definition
  BackgroundColor<<abstract>> #D3D3D3
  FontColor<<abstract>> #000000
  AttributeFontColor<<abstract>> #000000
  StereotypeFontColor<<abstract>> #000000
  HeaderFontColor<<abstract>> #000000
  BorderColor<<abstract>> #454645
  BorderThickness<<abstract>> 1
  
  ' Enumerations style definition
  BackgroundColor<<enumeration>> #90EE90
  FontColor<<enumeration>> #000000
  AttributeFontColor<<enumeration>> #000000
  StereotypeFontColor<<enumeration>> #000000
  HeaderFontColor <<enumeration>> #000000
  BorderColor<<enumeration>> #454645
  BorderThickness<<enumeration>> 1
  
  ' CIMDatatypes style definition
  BackgroundColor<<CIMDatatype>> #FFEBCD
  FontColor<<CIMDatatype>> #000000
  AttributeFontColor<<CIMDatatype>> #000000
  StereotypeFontColor<<CIMDatatype>> #000000
  HeaderFontColor<<CIMDatatype>> #000000
  BorderColor<<CIMDatatype>> #454645
  BorderThickness<<CIMDatatype>> 1
  
  ' Compound classes style definition
  BackgroundColor<<Compound>> #FFEBCD
  FontColor<<Compound>> #000000
  AttributeFontColor<<Compound>> #000000
  StereotypeFontColor<<Compound>> #000000
  HeaderFontColor<<Compound>> #000000
  BorderColor<<Compound>> #454645
  BorderThickness<<Compound>> 1
  
  ' Primitive classes style definition
  BackgroundColor<<Primitive>> #E6E6FF
  FontColor<<Primitive>> #000000
  AttributeFontColor<<Primitive>> #000000
  StereotypeFontColor<<Primitive>> #000000
  HeaderFontColor<<Primitive>> #000000
  BorderColor<<Primitive>> #454645
  BorderThickness<<Primitive>> 1
  
  ' Errors classes style definition
  BackgroundColor<<error>> #FFC0CB
  FontColor<<error>> #000000
  AttributeFontColor<<error>> #000000
  StereotypeFontColor<<error>> #000000
  HeaderFontColor<<error>> #000000
  BorderColor<<error>> #454645
  BorderThickness<<error>> 1
}
skinparam shadowing true

hide <<abstract>> stereotype
hide <<error>> stereotype


skinparam note {
  BorderColor #454645
  BorderThickness 1.5
  FontSize 14
  Font Bold
  FontColor #000000
}
' Add a note towards the upper left corner of the diagram
note as SecurityAnalysisResultNote #lightyellow
   Profile: SecurityAnalysisResult
   Namespace: https://ap-voc.cim4.eu/SecurityAnalysisResult/2.4#
end note

' ACDCTerminal
abstract class ACDCTerminal  <<abstract>> {
}


' BaseCasePowerFlowResult inherits from PowerFlowResult
class BaseCasePowerFlowResult <<NC>>  {
}

PowerFlowResult <|-- BaseCasePowerFlowResult

' Breaker inherits from ProtectedSwitch
class Breaker   {
}

ProtectedSwitch <|-- Breaker

' ConductingEquipment inherits from Equipment
abstract class ConductingEquipment  <<abstract>> {
}

Equipment <|-- ConductingEquipment

' ConnectivityNodeContainer inherits from PowerSystemResource
abstract class ConnectivityNodeContainer  <<abstract>> {
}

PowerSystemResource <|-- ConnectivityNodeContainer

' Contingency
abstract class Contingency  <<abstract>> {
}


' ContingencyPowerFlowResult inherits from PowerFlowResult
class ContingencyPowerFlowResult <<NC>>  {
}

PowerFlowResult <|-- ContingencyPowerFlowResult
ContingencyPowerFlowResult "+ContingencyPowerFlowResult 0..*" --> "+Contingency 1" Contingency : <<NC>>

' Cut inherits from Switch
class Cut   {
   +lengthFromTerminal1 : Length [0..1]
}

Switch <|-- Cut

' DisconnectingCircuitBreaker inherits from Breaker
class DisconnectingCircuitBreaker   {
}

Breaker <|-- DisconnectingCircuitBreaker

' Disconnector inherits from Switch
class Disconnector   {
}

Switch <|-- Disconnector

' Equipment inherits from PowerSystemResource
abstract class Equipment  <<abstract>> {
   +inService : Boolean [0..1]
   +normallyInService : Boolean [0..1]
}

PowerSystemResource <|-- Equipment

' EquipmentContainer inherits from ConnectivityNodeContainer
abstract class EquipmentContainer  <<abstract>> {
}

ConnectivityNodeContainer <|-- EquipmentContainer
EquipmentContainer "+EquipmentContainer 0..1" o--> "+Equipments 0..*" Equipment

' GroundDisconnector inherits from Switch
class GroundDisconnector   {
}

Switch <|-- GroundDisconnector

' IdentifiedObject
abstract class IdentifiedObject  <<abstract>> {
   +mRID : String
}


' Enumeration LimitKind
enum LimitKind <<enumeration>>  {
   alarmVoltage
   highVoltage
   lowVoltage
   operationalVoltageLimit
   patl
   patlt
   stability
   tatl
   tc
   tct
   warningVoltage
}

' Location inherits from IdentifiedObject
class Location   {
   +direction : String
   +mainAddress : StreetAddress
}

IdentifiedObject <|-- Location

' OperationalLimit inherits from IdentifiedObject
class OperationalLimit   {
}

IdentifiedObject <|-- OperationalLimit
OperationalLimit "+OperationalLimitValue 0..*" --o "+OperationalLimitSet 0..1" OperationalLimitSet
OperationalLimit "+OperationalLimit 0..*" --> "+OperationalLimitType 0..1" OperationalLimitType

' Enumeration OperationalLimitDirectionKind
enum OperationalLimitDirectionKind <<enumeration>>  {
   absoluteValue
   high
   low
}

' OperationalLimitSet inherits from IdentifiedObject
class OperationalLimitSet   {
}

IdentifiedObject <|-- OperationalLimitSet
OperationalLimitSet "+OperationalLimitSet 0..*" --> "+Terminal 1" ACDCTerminal

' OperationalLimitType inherits from IdentifiedObject
class OperationalLimitType   {
   +acceptableDuration : Seconds [0..1]
   +direction : OperationalLimitDirectionKind [0..1]
   +isInfiniteDuration : Boolean [0..1]
   +<<European>> kind : LimitKind [0..1]
}

IdentifiedObject <|-- OperationalLimitType

' PowerFlowResult
abstract class PowerFlowResult <<NC>> <<abstract>> {
   +<<NC>> absoluteValue : Float [0..1]
   +<<NC>> atTime : DateTime
   +<<NC>> isViolation : Boolean
   +<<NC>> value : PerCent [0..1]
   +<<NC>> valueA : CurrentFlow [0..1]
   +<<NC>> valueAngle : AngleDegrees [0..1]
   +<<NC>> valueV : Voltage [0..1]
   +<<NC>> valueVA : ApparentPower [0..1]
   +<<NC>> valueVAR : ReactivePower [0..1]
   +<<NC>> valueW : ActivePower [0..1]
}

PowerFlowResult "+PowerFlowResult 0..*" --> "+ACDCTerminal 1" ACDCTerminal
PowerFlowResult "+PowerFlowResult 0..*" --> "+OperationalLimit 0..1" OperationalLimit : <<NC>>
PowerFlowResult "+LimitViolation 0..*" --> "+ReportedByRegion 0..1" Region : <<NC>>

' PowerSystemResource inherits from IdentifiedObject
abstract class PowerSystemResource  <<abstract>> {
}

IdentifiedObject <|-- PowerSystemResource

' ProtectedSwitch inherits from Switch
abstract class ProtectedSwitch  <<abstract>> {
   +breakingCapacity : CurrentFlow
}

Switch <|-- ProtectedSwitch

' Recloser inherits from ProtectedSwitch
class Recloser   {
}

ProtectedSwitch <|-- Recloser

' Region
abstract class Region <<NC>> <<abstract>> {
}


' RemedialAction
abstract class RemedialAction <<NC>> <<abstract>> {
}


' RemedialActionApplied
class RemedialActionApplied <<NC>>  {
   +<<NC>> mRID : String
}

RemedialActionApplied "+RemedialActionApplied 0..*" --> "+PowerFlowResult 0..1" PowerFlowResult : <<NC>>
RemedialActionApplied "+RemedialActionApplied 0..*" --> "+RemedialAction 1" RemedialAction : <<NC>>
RemedialActionApplied "+RemedialActionApplied 0..*" --> "+StageForRemedialActionScheme 0..1" Stage : <<NC>>

' Stage
abstract class Stage <<NC>> <<abstract>> {
}


' Status
class Status <<Compound>> {
   +dateTime : DateTime
   +reason : String
   +remark : String
   +value : String
}


' StreetAddress
class StreetAddress <<Compound>> {
   +language : String [0..1]
   +poBox : String [0..1]
   +postalCode : String [0..1]
   +status : Status [0..1]
   +streetDetail : StreetDetail
   +townDetail : TownDetail [0..1]
}


' StreetDetail
class StreetDetail <<Compound>> {
   +addressGeneral : String [0..1]
   +addressGeneral2 : String [0..1]
   +addressGeneral3 : String [0..1]
   +buildingName : String [0..1]
   +code : String [0..1]
   +floorIdentification : String [0..1]
   +name : String [0..1]
   +number : String [0..1]
   +prefix : String [0..1]
   +suffix : String [0..1]
   +suiteNumber : String [0..1]
   +type : String [0..1]
   +withinTownLimits : Boolean [0..1]
}


' Substation inherits from EquipmentContainer
class Substation   {
}

EquipmentContainer <|-- Substation

' Switch inherits from ConductingEquipment
abstract class Switch  <<abstract>> {
   +normalOpen : Boolean [0..1]
   +open : Boolean [0..1]
   +ratedCurrent : CurrentFlow [0..1]
   +retained : Boolean [0..1]
}

ConductingEquipment <|-- Switch

' TownDetail
class TownDetail <<Compound>> {
   +code : String [0..1]
   +country : String [0..1]
   +name : String [0..1]
   +section : String [0..1]
   +stateOrProvince : String [0..1]
}


' Enumeration UnitMultiplier
enum UnitMultiplier <<enumeration>>  {
   k
   m
   none
}

' Enumeration UnitSymbol
enum UnitSymbol <<enumeration>>  {
   A
   V
   VA
   VAr
   W
   deg
   none
}

@enduml
